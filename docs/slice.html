<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 38 slice | DoSS Toolkit</title>
<meta name="author" content="Ananya, Annie, Haoluan, Isaac, José, Leuven, Mariam, Marija, Matthew, Michael, Rohan, Ruijia, Sam, Shirley, Simone, Uzair, Yena, and Yiqu">
<meta name="description" content="Written by Annie Collins and last updated on 28 January 2022.  38.1 Introduction In this lesson, you will learn how to: Select rows in a data frame using the slice() function This lesson is a...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 38 slice | DoSS Toolkit">
<meta property="og:type" content="book">
<meta property="og:description" content="Written by Annie Collins and last updated on 28 January 2022.  38.1 Introduction In this lesson, you will learn how to: Select rows in a data frame using the slice() function This lesson is a...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 38 slice | DoSS Toolkit">
<meta name="twitter:description" content="Written by Annie Collins and last updated on 28 January 2022.  38.1 Introduction In this lesson, you will learn how to: Select rows in a data frame using the slice() function This lesson is a...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">DoSS Toolkit</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled"><li><a class="" href="index.html"><span class="header-section-number">Chapter 38</span> slice</a></li></ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/RohanAlexander/doss_toolkit_book">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="slice" class="section level1" number="38">
<h1>
<span class="header-section-number">38</span> slice<a class="anchor" aria-label="anchor" href="#slice"><i class="fas fa-link"></i></a>
</h1>
<p><em>Written by Annie Collins and last updated on 28 January 2022.</em></p>
<div id="introduction-34" class="section level2" number="38.1">
<h2>
<span class="header-section-number">38.1</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction-34"><i class="fas fa-link"></i></a>
</h2>
<p>In this lesson, you will learn how to:</p>
<ul>
<li>Select rows in a data frame using the <code>slice()</code> function</li>
</ul>
<p>This lesson is a yellow level skill and is part of “Tidyverse Essentials.” Prerequisite skills include:</p>
<ul>
<li>Installing packages</li>
<li>Calling libraries</li>
<li>Importing data</li>
</ul>
</div>
<div id="slice-1" class="section level2" number="38.2">
<h2>
<span class="header-section-number">38.2</span> slice()<a class="anchor" aria-label="anchor" href="#slice-1"><i class="fas fa-link"></i></a>
</h2>
<p>The <code>slice()</code> function is a function in the <code>dplyr</code> package which is a part of the <code>tidyverse</code>.</p>
<p><code>slice()</code> allows you to select rows from your data by their location in the data frame. This can be done by inputting specific row numbers, ranges of row numbers, or by choosing rows to omit from the data. The <code>slice()</code> function does not manipulate the original data frame, but rather outputs a <em>copy</em> of the original data frame including only the selected rows.</p>
<p>The syntax for using slice is as follows:</p>
<p><code>slice(data, row number(s) of row(s) to be kept/removed)</code> </p>
<p>This will be further explained in the following sections.</p>
</div>
<div id="video-overview" class="section level2" number="38.3">
<h2>
<span class="header-section-number">38.3</span> Video Overview<a class="anchor" aria-label="anchor" href="#video-overview"><i class="fas fa-link"></i></a>
</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Ob3hZJ0EUXM" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</div>
<div id="selecting-rows" class="section level2" number="38.4">
<h2>
<span class="header-section-number">38.4</span> Selecting Rows<a class="anchor" aria-label="anchor" href="#selecting-rows"><i class="fas fa-link"></i></a>
</h2>
<p>We will be slicing the data frame below (named <code>pizza</code>) which includes data on different pizza types and their toppings. For the purposes of visualizing the <code>slice()</code> function, the row numbers have been indicated next to each pizza type (<code>slice()</code> does not preserve inherent row order).</p>
<pre><code>#&gt;              type      top1        top2
#&gt; 1     (1) classic    cheese   pepperoni
#&gt; 2    (2) hawaiian       ham   pineapple
#&gt; 3      (3) veggie mushrooms     peppers
#&gt; 4 (4) meat lovers   sausage       bacon
#&gt; 5       (5) greek    olives feta cheese</code></pre>
<div id="single-row" class="section level3" number="38.4.1">
<h3>
<span class="header-section-number">38.4.1</span> Single Row<a class="anchor" aria-label="anchor" href="#single-row"><i class="fas fa-link"></i></a>
</h3>
<p>If you wish to select a single row from your data frame, simply input the row’s number into the <code>slice()</code> function following the name of your data.</p>
<p>The code below returns the information about a veggie pizza.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">slice</span><span class="op">(</span><span class="va">pizza</span>, <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt;         type      top1    top2</span>
<span class="co">#&gt; 1 (3) veggie mushrooms peppers</span></code></pre></div>
</div>
<div id="multiple-rows" class="section level3" number="38.4.2">
<h3>
<span class="header-section-number">38.4.2</span> Multiple Rows<a class="anchor" aria-label="anchor" href="#multiple-rows"><i class="fas fa-link"></i></a>
</h3>
<p>There are several ways to slice multiple rows at once.</p>
<p>You may input several integers separated by commas, similar to the above example of selecting a single row. The code below returns information about classic, veggie, and greek pizzas.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">slice</span><span class="op">(</span><span class="va">pizza</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt;          type      top1        top2</span>
<span class="co">#&gt; 1 (1) classic    cheese   pepperoni</span>
<span class="co">#&gt; 2  (3) veggie mushrooms     peppers</span>
<span class="co">#&gt; 3   (5) greek    olives feta cheese</span></code></pre></div>
<p>You can also input a vector of integers indicating the rows you wish to slice. This functions essentially the same as the previous method, but may be useful if you already have a numeric vector containing this information. The code below also returns information about classic, veggie, and greek pizzas.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nums</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span>
<span class="fu">slice</span><span class="op">(</span><span class="va">pizza</span>, <span class="va">nums</span><span class="op">)</span>
<span class="co">#&gt;          type      top1        top2</span>
<span class="co">#&gt; 1 (1) classic    cheese   pepperoni</span>
<span class="co">#&gt; 2  (3) veggie mushrooms     peppers</span>
<span class="co">#&gt; 3   (5) greek    olives feta cheese</span></code></pre></div>
<p>If you wish to select information from multiple adjacent rows, you can input a numeric range instead of selecting rows individually. The syntax for this is “first row:last row.” The code below outputs the first three rows of <code>pizza</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">slice</span><span class="op">(</span><span class="va">pizza</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt;           type      top1      top2</span>
<span class="co">#&gt; 1  (1) classic    cheese pepperoni</span>
<span class="co">#&gt; 2 (2) hawaiian       ham pineapple</span>
<span class="co">#&gt; 3   (3) veggie mushrooms   peppers</span></code></pre></div>
</div>
<div id="omitting-rows" class="section level3" number="38.4.3">
<h3>
<span class="header-section-number">38.4.3</span> Omitting Rows<a class="anchor" aria-label="anchor" href="#omitting-rows"><i class="fas fa-link"></i></a>
</h3>
<p>Another way of slicing rows is choosing which rows to <em>omit</em> or <em>remove</em> from the data frame. You can use any of the above methods to remove individual or multiple rows from a data frame by placing “<strong>-</strong>” before the inputted row number(s). The <code>slice()</code> function will then return all the rows in the data frame <em>except</em> the rows indicated. Uncomment each line of code below to observe the output.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Return everything except row 3</span>
<span class="fu">slice</span><span class="op">(</span><span class="va">pizza</span>, <span class="op">-</span><span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt;              type    top1        top2</span>
<span class="co">#&gt; 1     (1) classic  cheese   pepperoni</span>
<span class="co">#&gt; 2    (2) hawaiian     ham   pineapple</span>
<span class="co">#&gt; 3 (4) meat lovers sausage       bacon</span>
<span class="co">#&gt; 4       (5) greek  olives feta cheese</span>
<span class="co"># Return only rows 2 and 4</span>
<span class="co"># slice(pizza, -1, -3, -5)</span>
<span class="co"># OR</span>
<span class="co"># nums &lt;- c(1, 3, 5)</span>
<span class="co"># slice(pizza, -nums)</span>
<span class="co"># Return only the last two rows (4:5)</span>
<span class="co"># slice(pizza, -1:-3)</span></code></pre></div>
<p>Note that when using <code>slice()</code>, positive and negative numbers cannot be combined. All row number values must be either positive or negative, including in vectors and ranges.</p>
<p>It is also possible to combine selection methods, for instance by indicating a range of rows followed by another individual row (<code>slice(pizza, 1:3, 5)</code> will return everything except row 4).</p>
</div>
</div>
<div id="common-mistakes-1" class="section level2" number="38.5">
<h2>
<span class="header-section-number">38.5</span> Common Mistakes<a class="anchor" aria-label="anchor" href="#common-mistakes-1"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>
<strong>Slicing rows that do not exist</strong>: Ensure you are always inputting row numbers that exist in your data. If you input row numbers that do not exist in your data (for example, <code>slice(pizza, 6)</code> when <code>pizza</code> only has 5 rows), the function will return <em>&lt;0 rows&gt; (or 0-length row.names)</em> which is an empty data frame. To check the number of rows in your data, you can use the function <code><a href="https://rdrr.io/r/base/nrow.html">nrow()</a></code>. You can also use <code>n()</code> to represent the number of the last row of your data regardless of length (ie. <code>1:n()</code> would slice every row of a data frame).</li>
<li>
<strong>Combining Positive and Negative Indexes</strong>: As mentioned previously, all row number values must be either positive or negative when using <code>slice()</code>, including in vectors and ranges. If you combine positive and negative values, you may get the following message: <em>Error: `slice()` expressions should return either all positive or all negative.</em>
</li>
<li>
<strong>“Losing” your sliced data frame</strong>: When you use the <code>slice()</code> function, you are not directly changing your original data. If you want your data frame to be saved in its “sliced” form, you must reassign the name of your data frame to the output of the <code>slice()</code> function. For example, if I wanted to permanently remove the last two rows of <code>pizza</code>, I would execute the code <code>pizza &lt;- slice(pizza, -4:-5)</code>.</li>
</ul>
</div>
<div id="next-steps-20" class="section level2" number="38.6">
<h2>
<span class="header-section-number">38.6</span> Next Steps<a class="anchor" aria-label="anchor" href="#next-steps-20"><i class="fas fa-link"></i></a>
</h2>
<p>There are several functions that act as variations of <code>slice()</code> with similar syntax in the <code>dplyr</code> package. These include:</p>
<ul>
<li>
<code>slice_head()</code> and <code>slice_tail()</code>, to select a number of first or last rows</li>
<li>
<code>slice_sample()</code>, to randomly select rows from a data frame</li>
<li>
<code>slice_min()</code> and <code>slice_max()</code>, to select rows with the highest or lowest value(s) of a specified variable.</li>
</ul>
</div>
<div id="exercises-42" class="section level2" number="38.7">
<h2>
<span class="header-section-number">38.7</span> Exercises<a class="anchor" aria-label="anchor" href="#exercises-42"><i class="fas fa-link"></i></a>
</h2>
<p>Please use the dataset <code>olympics</code>, representing medal counts from the 2016 summer Olympics in Rio de Janeiro, for the following questions and exercises.</p>
<pre><code>#&gt;         country gold silver bronze
#&gt; 1 United States   46     37     38
#&gt; 2 Great Britain   27     23     17
#&gt; 3         China   26     18     26
#&gt; 4        Russia   19     17     20
#&gt; 5       Germany   17     10     15
#&gt; 6         Japan   12      8     21
#&gt; 7        France   10     18     14
#&gt; 8   South Korea    9      3      9</code></pre>
<div id="question-1-29" class="section level3" number="38.7.1">
<h3>
<span class="header-section-number">38.7.1</span> Question 1<a class="anchor" aria-label="anchor" href="#question-1-29"><i class="fas fa-link"></i></a>
</h3>
<p>Which of the following is <strong>not</strong> equivalent to <code>slice(olympics, 1:2)?</code></p>
<ol style="list-style-type: lower-alpha">
<li><code>slice(olympics, 1, 2)</code></li>
<li><code>slice(olympics, c(1, 2))</code></li>
<li><code>slice(olympics, -3:-8)</code></li>
<li><code>slice(olympics, 3:8)</code></li>
</ol>
</div>
<div id="question-2-29" class="section level3" number="38.7.2">
<h3>
<span class="header-section-number">38.7.2</span> Question 2<a class="anchor" aria-label="anchor" href="#question-2-29"><i class="fas fa-link"></i></a>
</h3>
<p>Which of the following will return data for all countries in <code>olympics</code>?</p>
<ol style="list-style-type: lower-alpha">
<li><code>slice(olympics, 1:8)</code></li>
<li><code>slice(olympics, 8)</code></li>
<li><code>slice(olympics, -1)</code></li>
<li><code>slice(olympics, c(1, 8))</code></li>
</ol>
</div>
<div id="question-3-29" class="section level3" number="38.7.3">
<h3>
<span class="header-section-number">38.7.3</span> Question 3<a class="anchor" aria-label="anchor" href="#question-3-29"><i class="fas fa-link"></i></a>
</h3>
<p>Which of the following will extract information for Russia, Germany, and Japan from <code>olympics</code>?</p>
<ol style="list-style-type: lower-alpha">
<li>
<code>vector &lt;- c(4, 5, 6)</code>, then <code>slice(olympics, vector)</code>
</li>
<li><code>slice(olympics, 4:6)</code></li>
<li><code>slice(olympics, 4, 5, 6)</code></li>
<li>All of the above</li>
</ol>
</div>
<div id="question-4-28" class="section level3" number="38.7.4">
<h3>
<span class="header-section-number">38.7.4</span> Question 4<a class="anchor" aria-label="anchor" href="#question-4-28"><i class="fas fa-link"></i></a>
</h3>
<p>For which countries will the following code return information: <code>slice(olympics, -2, -7)</code>?</p>
<ol style="list-style-type: lower-alpha">
<li>Great Britain, China, Russia, Germany, Japan, France</li>
<li>China, Russia, Germany, Japan</li>
<li>United States, China, Russia, Germany, Japan, South Korea</li>
<li>Great Britain, France</li>
</ol>
</div>
<div id="question-5-26" class="section level3" number="38.7.5">
<h3>
<span class="header-section-number">38.7.5</span> Question 5<a class="anchor" aria-label="anchor" href="#question-5-26"><i class="fas fa-link"></i></a>
</h3>
<p>What will the following code return when executed: <code>slice(olympics, 1, 10)</code>?</p>
<ol style="list-style-type: lower-alpha">
<li>An error message</li>
<li>An empty data frame</li>
<li>Row 1 of <code>olympics</code>
</li>
<li>All rows of <code>olympics</code>
</li>
</ol>
</div>
<div id="question-6-26" class="section level3" number="38.7.6">
<h3>
<span class="header-section-number">38.7.6</span> Question 6<a class="anchor" aria-label="anchor" href="#question-6-26"><i class="fas fa-link"></i></a>
</h3>
<p>What will the following code return when executed: <code>slice(olympics, 1, -1)</code>?</p>
<ol style="list-style-type: lower-alpha">
<li>An error message</li>
<li>An empty data frame</li>
<li>All but the last row of <code>olympics</code>
</li>
<li>The first and last row of <code>olympics</code>
</li>
</ol>
</div>
<div id="question-7-26" class="section level3" number="38.7.7">
<h3>
<span class="header-section-number">38.7.7</span> Question 7<a class="anchor" aria-label="anchor" href="#question-7-26"><i class="fas fa-link"></i></a>
</h3>
<p>What will the following code return when executed: <code>olympics %&gt;% slice(1) %&gt;% slice(3)</code>?</p>
<ol style="list-style-type: lower-alpha">
<li>An error message</li>
<li>An empty data frame</li>
<li>The first row of <code>olympics</code>
</li>
<li>The third row of <code>olympics</code>
</li>
</ol>
</div>
<div id="question-8-26" class="section level3" number="38.7.8">
<h3>
<span class="header-section-number">38.7.8</span> Question 8<a class="anchor" aria-label="anchor" href="#question-8-26"><i class="fas fa-link"></i></a>
</h3>
<p>Which of the following is <strong>not</strong> a function?</p>
<ol style="list-style-type: lower-alpha">
<li><code>slice_head()</code></li>
<li><code>slice_min()</code></li>
<li><code>slice_sample()</code></li>
<li><code>slice_col()</code></li>
</ol>
</div>
<div id="question-9-26" class="section level3" number="38.7.9">
<h3>
<span class="header-section-number">38.7.9</span> Question 9<a class="anchor" aria-label="anchor" href="#question-9-26"><i class="fas fa-link"></i></a>
</h3>
<p>Which of the following is equivalent to <code>slice(olympics, 4)</code>?</p>
<ol style="list-style-type: lower-alpha">
<li><code>slice(olympics, -4)</code></li>
<li><code>slice(olympics, -5)</code></li>
<li><code>slice(olympics, -1:-3, -5:-8)</code></li>
<li><code>slice(olympics, c(1, 2, 3, 5, 6, 7, 8))</code></li>
</ol>
</div>
<div id="question-10-26" class="section level3" number="38.7.10">
<h3>
<span class="header-section-number">38.7.10</span> Question 10<a class="anchor" aria-label="anchor" href="#question-10-26"><i class="fas fa-link"></i></a>
</h3>
<p>Which of the following statements is true?</p>
<ol style="list-style-type: lower-alpha">
<li>
<code>slice()</code> can be used to manipulate columns by inputting the argument <code>.cols = TRUE</code>
</li>
<li>There are several<code>slice()</code> helper functions available in the <code>dplyr</code> package</li>
<li>
<code>slice()</code> is available in base R</li>
<li>Using <code>slice()</code> on a single row will return a vector</li>
</ol>
</div>
</div>
</div>
  <div class="chapter-nav">
<div class="empty"></div>
<div class="empty"></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <div id="book-on-this-page"></div>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>DoSS Toolkit</strong>" was written by Ananya, Annie, Haoluan, Isaac, José, Leuven, Mariam, Marija, Matthew, Michael, Rohan, Ruijia, Sam, Shirley, Simone, Uzair, Yena, and Yiqu. It was last built on 2021-10-07.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
