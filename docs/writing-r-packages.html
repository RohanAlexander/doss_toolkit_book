<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 106 Writing R Packages | DoSS Toolkit</title>
<meta name="author" content="Ananya, Annie, Haoluan, Isaac, José, Leuven, Mariam, Marija, Matthew, Michael, Rohan, Ruijia, Sam, Shirley, Simone, Uzair, Yena, and Yiqu">
<meta name="description" content="Written by Matthew Wankiewicz and last updated on 7 October 2021.  106.1 Introduction While working on projects, you may get to the point where you want to create your own package in R. This...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 106 Writing R Packages | DoSS Toolkit">
<meta property="og:type" content="book">
<meta property="og:description" content="Written by Matthew Wankiewicz and last updated on 7 October 2021.  106.1 Introduction While working on projects, you may get to the point where you want to create your own package in R. This...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 106 Writing R Packages | DoSS Toolkit">
<meta name="twitter:description" content="Written by Matthew Wankiewicz and last updated on 7 October 2021.  106.1 Introduction While working on projects, you may get to the point where you want to create your own package in R. This...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">DoSS Toolkit</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Preface</a></li>
<li class="book-part">Hello World!</li>
<li><a class="" href="introduction.html"><span class="header-section-number">2</span> Introduction</a></li>
<li><a class="" href="getting-and-setting-up-rstudio.html"><span class="header-section-number">3</span> Getting and setting up RStudio</a></li>
<li><a class="" href="getting-to-know-what-is-what.html"><span class="header-section-number">4</span> Getting to know what is what</a></li>
<li><a class="" href="hello-world-1.html"><span class="header-section-number">5</span> Hello World!</a></li>
<li><a class="" href="hello-world-again.html"><span class="header-section-number">6</span> Hello World, again!</a></li>
<li><a class="" href="hello-world-yet-again.html"><span class="header-section-number">7</span> Hello World, yet again!</a></li>
<li><a class="" href="the-r-community.html"><span class="header-section-number">8</span> The R community</a></li>
<li class="book-part">Operating in an error prone world</li>
<li><a class="" href="introduction-7.html"><span class="header-section-number">9</span> Introduction</a></li>
<li><a class="" href="getting-help-is-normal.html"><span class="header-section-number">10</span> Getting help is normal!</a></li>
<li><a class="" href="using-google-and-stack-overflow.html"><span class="header-section-number">11</span> Using Google and Stack Overflow</a></li>
<li><a class="" href="even-more-on-stack-overflow.html"><span class="header-section-number">12</span> Even more on Stack Overflow</a></li>
<li><a class="" href="when-your-code-doesnt-work.html"><span class="header-section-number">13</span> When your code doesn’t work</a></li>
<li><a class="" href="making-reproducible-examples.html"><span class="header-section-number">14</span> Making reproducible examples</a></li>
<li><a class="" href="how-to-make-the-most-of-rs-cryptic-error-messages.html"><span class="header-section-number">15</span> How to make the most of R’s cryptic error messages</a></li>
<li class="book-part">Holding the chaos at bay</li>
<li><a class="" href="introduction-13.html"><span class="header-section-number">16</span> Introduction</a></li>
<li><a class="" href="r-projects-and-working-directory.html"><span class="header-section-number">17</span> R Projects and working directory</a></li>
<li><a class="" href="folder-set-up.html"><span class="header-section-number">18</span> Folder set-up</a></li>
<li><a class="" href="writing-comments.html"><span class="header-section-number">19</span> Writing comments</a></li>
<li><a class="" href="installing-packages.html"><span class="header-section-number">20</span> Installing packages</a></li>
<li><a class="" href="install-from-github.html"><span class="header-section-number">21</span> Install from GitHub</a></li>
<li><a class="" href="calling-packages.html"><span class="header-section-number">22</span> Calling packages</a></li>
<li><a class="" href="how-to-update-packages.html"><span class="header-section-number">23</span> How to update packages</a></li>
<li><a class="" href="read-csvs.html"><span class="header-section-number">24</span> Read CSVs</a></li>
<li><a class="" href="reading-tables-dta-and-other-data-types.html"><span class="header-section-number">25</span> Reading tables dta and other data types</a></li>
<li class="book-part">Hand me my plyrs</li>
<li><a class="" href="introduction-23.html"><span class="header-section-number">26</span> Introduction</a></li>
<li><a class="" href="what-is-the-tidyverse.html"><span class="header-section-number">27</span> What is the tidyverse?</a></li>
<li><a class="" href="the-pipe.html"><span class="header-section-number">28</span> The pipe</a></li>
<li><a class="" href="select.html"><span class="header-section-number">29</span> select</a></li>
<li><a class="" href="filter.html"><span class="header-section-number">30</span> filter</a></li>
<li><a class="" href="group-and-ungroup.html"><span class="header-section-number">31</span> group and ungroup</a></li>
<li><a class="" href="summarise.html"><span class="header-section-number">32</span> summarise</a></li>
<li><a class="" href="arrange.html"><span class="header-section-number">33</span> arrange</a></li>
<li><a class="" href="mutate.html"><span class="header-section-number">34</span> mutate</a></li>
<li><a class="" href="pivoting-data-from-long-to-wide-and-vice-versa.html"><span class="header-section-number">35</span> Pivoting data from long to wide and vice versa</a></li>
<li><a class="" href="rename.html"><span class="header-section-number">36</span> rename</a></li>
<li><a class="" href="counting.html"><span class="header-section-number">37</span> Counting</a></li>
<li><a class="" href="slice.html"><span class="header-section-number">38</span> slice</a></li>
<li><a class="" href="representations-of-data.html"><span class="header-section-number">39</span> Representations of data</a></li>
<li><a class="" href="length-rows-columns-and-dimensions.html"><span class="header-section-number">40</span> length, rows, columns and dimensions</a></li>
<li class="book-part">Totally addicted to base</li>
<li><a class="" href="introduction-37.html"><span class="header-section-number">41</span> Introduction</a></li>
<li><a class="" href="mean-median-sd-lm-and-summary.html"><span class="header-section-number">42</span> mean, median, sd, lm, and summary</a></li>
<li><a class="" href="generalized-linear-models-with-glm.html"><span class="header-section-number">43</span> Generalized linear models with glm</a></li>
<li><a class="" href="mixed-effect-linear-models-with-lme4.html"><span class="header-section-number">44</span> Mixed-effect linear models with lme4</a></li>
<li><a class="" href="function.html"><span class="header-section-number">45</span> function</a></li>
<li><a class="" href="for-and-while.html"><span class="header-section-number">46</span> for and while</a></li>
<li><a class="" href="if-if-else-and-case-when.html"><span class="header-section-number">47</span> if, if else and case when</a></li>
<li><a class="" href="c-seq-seq-along-and-rep.html"><span class="header-section-number">48</span> c, seq, seq along, and rep</a></li>
<li><a class="" href="hist-plot-and-boxplot.html"><span class="header-section-number">49</span> hist, plot and boxplot</a></li>
<li><a class="" href="apply-sapply-and-lapply.html"><span class="header-section-number">50</span> apply, sapply, and lapply</a></li>
<li><a class="" href="file-creation-and-manipulation.html"><span class="header-section-number">51</span> File creation and manipulation</a></li>
<li><a class="" href="sum-round-etc.html"><span class="header-section-number">52</span> sum round etc</a></li>
<li><a class="" href="investigating-and-playing-with-data.html"><span class="header-section-number">53</span> Investigating and playing with data</a></li>
<li><a class="" href="row-and-column-names.html"><span class="header-section-number">54</span> row and column names</a></li>
<li><a class="" href="floor-ceiling-round-and-abs.html"><span class="header-section-number">55</span> floor(), ceiling(), round(), and abs()</a></li>
<li class="book-part">He was a d8er boi</li>
<li><a class="" href="introduction-52.html"><span class="header-section-number">56</span> Introduction</a></li>
<li><a class="" href="head-tail-glimpse-and-summary.html"><span class="header-section-number">57</span> head, tail, glimpse and summary</a></li>
<li><a class="" href="paste-paste0-glue-and-stringr.html"><span class="header-section-number">58</span> paste, paste0, glue and stringr</a></li>
<li><a class="" href="names-rbind-and-cbind.html"><span class="header-section-number">59</span> names, rbind and cbind</a></li>
<li><a class="" href="joins.html"><span class="header-section-number">60</span> Joins</a></li>
<li><a class="" href="looking-for-missing-data.html"><span class="header-section-number">61</span> Looking for missing data</a></li>
<li><a class="" href="setseed-runif-rnorm-and-sample.html"><span class="header-section-number">62</span> setseed, runif, rnorm, and sample</a></li>
<li><a class="" href="simulating-datasets-for-regression.html"><span class="header-section-number">63</span> Simulating datasets for regression</a></li>
<li><a class="" href="conditional-mutating-and-summarising.html"><span class="header-section-number">64</span> Conditional mutating and summarising</a></li>
<li><a class="" href="tidying-up-datasets.html"><span class="header-section-number">65</span> Tidying up datasets</a></li>
<li><a class="" href="pull-pluck-and-unnest.html"><span class="header-section-number">66</span> pull, pluck and unnest</a></li>
<li><a class="" href="forcats-and-factors.html"><span class="header-section-number">67</span> forcats and factors</a></li>
<li><a class="" href="more-on-strings.html"><span class="header-section-number">68</span> More on strings</a></li>
<li><a class="" href="working-with-dates.html"><span class="header-section-number">69</span> Working with dates</a></li>
<li><a class="" href="regular-expressions.html"><span class="header-section-number">70</span> Regular expressions</a></li>
<li><a class="" href="janitor.html"><span class="header-section-number">71</span> janitor</a></li>
<li class="book-part">To ggplot or not to ggplot</li>
<li><a class="" href="introduction-67.html"><span class="header-section-number">72</span> Introduction</a></li>
<li><a class="" href="overview-of-ggplot2.html"><span class="header-section-number">73</span> Overview of ggplot2</a></li>
<li><a class="" href="histograms.html"><span class="header-section-number">74</span> Histograms</a></li>
<li><a class="" href="scatter-plots.html"><span class="header-section-number">75</span> Scatter plots</a></li>
<li><a class="" href="various-useful-options.html"><span class="header-section-number">76</span> Various useful options</a></li>
<li><a class="" href="saving-graphs.html"><span class="header-section-number">77</span> Saving graphs</a></li>
<li><a class="" href="gganimate.html"><span class="header-section-number">78</span> gganimate</a></li>
<li><a class="" href="some-other-geom.html"><span class="header-section-number">79</span> Some other geom</a></li>
<li><a class="" href="other-geoms-2.html"><span class="header-section-number">80</span> other geoms 2</a></li>
<li><a class="" href="examples-15.html"><span class="header-section-number">81</span> Examples</a></li>
<li><a class="" href="exercises-96.html"><span class="header-section-number">82</span> Exercises</a></li>
<li><a class="" href="exercise-1-20.html"><span class="header-section-number">83</span> Exercise 1</a></li>
<li><a class="" href="exercise-2-17.html"><span class="header-section-number">84</span> Exercise 2</a></li>
<li><a class="" href="exercise-3-10.html"><span class="header-section-number">85</span> Exercise 3</a></li>
<li><a class="" href="exercise-4-5.html"><span class="header-section-number">86</span> Exercise 4</a></li>
<li class="book-part">R Marky Markdown and the Funky Docs</li>
<li><a class="" href="introduction-74.html"><span class="header-section-number">87</span> Introduction</a></li>
<li><a class="" href="introduction-to-r-markdown.html"><span class="header-section-number">88</span> Introduction to R Markdown</a></li>
<li><a class="" href="top-matter-title-date-author-abstract.html"><span class="header-section-number">89</span> Top Matter: Title, Date, Author, Abstract</a></li>
<li><a class="" href="tables-kable-kableextra-and-gt.html"><span class="header-section-number">90</span> Tables: kable, kableextra, and gt</a></li>
<li><a class="" href="multiple-plots-with-patchwork.html"><span class="header-section-number">91</span> Multiple plots with patchwork</a></li>
<li><a class="" href="references-and-bibtex.html"><span class="header-section-number">92</span> References and Bibtex</a></li>
<li><a class="" href="pdf-outputs.html"><span class="header-section-number">93</span> PDF outputs</a></li>
<li><a class="" href="here-and-filepaths.html"><span class="header-section-number">94</span> here and filepaths</a></li>
<li class="book-part">Git outta here</li>
<li><a class="" href="introduction-82.html"><span class="header-section-number">95</span> Introduction</a></li>
<li><a class="" href="what-is-version-control-and-github.html"><span class="header-section-number">96</span> What is version control and GitHub?</a></li>
<li><a class="" href="git-pull-status-add-commit-push.html"><span class="header-section-number">97</span> Git: pull, status, add, commit, push</a></li>
<li><a class="" href="branches-in-github.html"><span class="header-section-number">98</span> Branches in GitHub</a></li>
<li><a class="" href="dealing-with-conflicts.html"><span class="header-section-number">99</span> Dealing with conflicts</a></li>
<li><a class="" href="putting-git-all-together-in-rstudio.html"><span class="header-section-number">100</span> Putting (G)it All together in RStudio</a></li>
<li><a class="" href="projects-issues.html"><span class="header-section-number">101</span> Projects issues</a></li>
<li class="book-part">Indistinguishable from magic</li>
<li><a class="" href="introduction-89.html"><span class="header-section-number">102</span> Introduction</a></li>
<li><a class="" href="iteration.html"><span class="header-section-number">103</span> Iteration</a></li>
<li><a class="" href="coding-style.html"><span class="header-section-number">104</span> Coding style</a></li>
<li><a class="" href="static-maps-using-ggmap.html"><span class="header-section-number">105</span> Static maps using ggmap</a></li>
<li><a class="active" href="writing-r-packages.html"><span class="header-section-number">106</span> Writing R Packages</a></li>
<li><a class="" href="writing-r-packages-ii.html"><span class="header-section-number">107</span> Writing R Packages II</a></li>
<li><a class="" href="getting-started-with-blogdown.html"><span class="header-section-number">108</span> Getting started with Blogdown</a></li>
<li><a class="" href="distill-and-postcards.html"><span class="header-section-number">109</span> Distill and postcards</a></li>
<li><a class="" href="getting-started-with-shiny.html"><span class="header-section-number">110</span> Getting started with Shiny</a></li>
<li><a class="" href="tidymodels.html"><span class="header-section-number">111</span> tidymodels</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/RohanAlexander/doss_toolkit_book">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="writing-r-packages" class="section level1" number="106">
<h1>
<span class="header-section-number">106</span> Writing R Packages<a class="anchor" aria-label="anchor" href="#writing-r-packages"><i class="fas fa-link"></i></a>
</h1>
<p><em>Written by Matthew Wankiewicz and last updated on 7 October 2021.</em></p>
<div id="introduction-93" class="section level2" number="106.1">
<h2>
<span class="header-section-number">106.1</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction-93"><i class="fas fa-link"></i></a>
</h2>
<p>While working on projects, you may get to the point where you want to create your own package in R. This package could be as simple as containing a temperature converter between Fahrenheit to Celsius or could contain a web-scraper which helps you get data you would like to analyze. This lesson will help go over the basics of creating a package in R.</p>
<p>Before we begin, be sure to have the <code>devtools</code> and <code>roxygen2</code> packages installed as they are very useful when creating packages.</p>
<p>While there are a few different ways to create package in R, the method we will look at in this lesson is great for getting started.</p>
</div>
<div id="steps-for-making-a-package-in-r" class="section level2" number="106.2">
<h2>
<span class="header-section-number">106.2</span> Steps for Making a Package in R<a class="anchor" aria-label="anchor" href="#steps-for-making-a-package-in-r"><i class="fas fa-link"></i></a>
</h2>
<ol style="list-style-type: decimal">
<li><p>After you have installed <code>devtools</code> and <code>roxygen2</code>, create a new R project, then click new directory and then R package. Here you will name your R package and include any files to the creation of the package. Once you have selected any files, click “Create Package” to make the package.</p></li>
<li>
<p>Now that the package has been created, there will be files located in the lower right-hand corner. The files include: “DESCRIPTION,” “man” and “R.” “DESCRIPTION” is where you can tell users about your package, including the name, description, and author. Next, the “man” folder is where you describe the functions in your package. These files are saved as “.Rd” files which stands for R documentation. The descriptions include the name, usage, description and a few examples of the functions. Lastly, the “R” folder will contain R scripts where you will write your functions.</p>
<ul>
<li>You can create as many functions as you want, just make sure that there is a “.Rd” file for each of the functions you have created.</li>
<li>You don’t need to edit the .Rd files on your own. The <code>roxygen</code> package can create this documentation based off of your functions. This is shown in the video later on.</li>
</ul>
</li>
<li>
<p>Once you have written your functions, you can install your package to your R by using Cmd + Shift + B for Mac or Ctrl + Shift + B for Windows. Once the package has been installed, you can test out your functions to make sure they are working properly. If your functions work fine, you have successfully created a package in R! Now you can either upload the code to GitHub for others to look at or you can continue building onto your package.</p>
<ul>
<li>If you plan to add functions from other packages into your package, make a new heading in “DESCRIPTION” called “Imports” and list the functions you are adding in.</li>
</ul>
</li>
<li><p>There are other ways to create packages which are more advanced than the steps I have detailed, more information about these steps will be included in the “Further Reading” Section.</p></li>
</ol>
</div>
<div id="each-section-of-packages-in-depth" class="section level2" number="106.3">
<h2>
<span class="header-section-number">106.3</span> Each Section of Packages in depth<a class="anchor" aria-label="anchor" href="#each-section-of-packages-in-depth"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Description</strong>: The description file will look similar to the one below:
<img src="https://cdn.analyticsvidhya.com/wp-content/uploads/2017/03/20070011/R7.png" alt="Image from Analytics Vidhya"></p>
<p>Filling it out is fairly simple and when you first enter this file, it will tell you what you should enter for each heading. For the license you can pick whichever one you want (located <a href="https://choosealicense.com/licenses/">here</a>), the most common ones are MIT and Apache.</p>
<p><strong>Man folder:</strong> The “man” folder will look similar to the one below:
<img src="https://www.pipinghotdata.com/posts/2020-10-25-your-first-r-package-in-1-hour/img/document2.PNG" style="width:70.0%" alt="Photo from Piping Hot Data"></p>
<p>For each <code>\topic{}</code> you should fill out the corresponding topic of your package in the {}. In <code>\usage</code> you should enter in how to use the function you’re describing. In <code>\arguments</code> enter in the arguments and a brief description of the argument, each argument should be separated by <code>\itemn</code> where n is the number of the argument. <code>\examples</code> includes examples of your function in action. While you can fill this out on your own, <code>roxygen</code> can do this automatically.</p>
<p><strong>R folder:</strong> The R folder is where you place your functions. Each function will be contained in separate R files. You can keep all of your functions in one R file, it just helps to keep things organized if you have a file for each function.</p>
<p>The inside of the files will look like the image below:</p>
<div class="figure">
<img src="https://cdn.analyticsvidhya.com/wp-content/uploads/2017/03/20070032/R9.png" alt=""><p class="caption">Photo from Analytics Vidhya</p>
</div>
<p>For <code>@title</code> you should write the title of the function, <code>@description</code> is where the description goes, <code>@param</code> is where your parameters go, <code>@return</code> is what your function returns and <code>@examples</code> are examples of how to use the function. Below that part is where you write out your entire function. This should be repeated for every function you plan to include in your package.</p>
<p><strong>NAMESPACE:</strong> The NAMESPACE file is a more advanced file for making R packages. From the R Packages book from Hadley Wickham, it says that this file is “not that important if you’re only developing packages for yourself. However, understanding namespaces is vital if you plan to submit your package to CRAN.” NAMESPACE files can also be created automatically from <code>roxygen</code>.</p>
<div id="after-you-have-filled-out-each-file" class="section level3" number="106.3.1">
<h3>
<span class="header-section-number">106.3.1</span> After you have filled out each file<a class="anchor" aria-label="anchor" href="#after-you-have-filled-out-each-file"><i class="fas fa-link"></i></a>
</h3>
<p>Once you have filled out each file with your functions you are now ready to build your package. To do this, go to your menu bar and select “Build” and then “Configure Build tools….” Once you have selected this there will be a new window that opens which includes options for the package. Check off the box that says “Create documentation with Roxygen” then select all checkboxes and click “OK” if another window appears. You can also type in “-–as-cran” into “Check Package,” this will let R conduct tests to simulate your package being checked/tested in CRAN.</p>
<ul>
<li>Creating documentation with Roxygen takes information from your functions and creates documentation from it. It is also able to create a NAMESPACE file. In order to do this, make sure you have your NAMESPACE file deleted so Roxygen can make a new one and don’t make any R documentation for your functions, Roxygen can do it for you.</li>
</ul>
<p>Now you can go back to “Build” and then click “Clean and Rebuild.” This will restart your R session and load in your package to R. Now you can test out your functions to make sure they are working properly. If your functions work without error, you have successfully created your package!</p>
</div>
<div id="sharing-your-package" class="section level3" number="106.3.2">
<h3>
<span class="header-section-number">106.3.2</span> Sharing Your Package<a class="anchor" aria-label="anchor" href="#sharing-your-package"><i class="fas fa-link"></i></a>
</h3>
<p>If you would like other people to use your function and want to share it, there are two main options. The first option (and easiest) would be to upload your package to GitHub. To do this, create a GitHub repository and upload your files to the repository. Once the files are on GitHub, it can be installed using <code><a href="https://remotes.r-lib.org/reference/install_github.html">remotes::install_github</a></code>.</p>
<p>You can also select Git when creating your package. After you have created and edited your functions &amp; files, you can use the <code><a href="https://usethis.r-lib.org/reference/use_github.html">usethis::use_github</a></code> to create a repository for your package. If you haven’t done this before, the function will give you steps in creating a key to connect to your GitHub and will also tell you how to store it. Once you have done this, you can re-run the function and it should upload your files to GitHub.</p>
<p>As you get more advanced with creating packages in R, you can send it to CRAN to try to get it verified there. Having your package verified by CRAN means that the package can be installed using <code>install.packages</code>. To get the package CRAN verified, you would need to submit your source package to <a href="https://cran.r-project.org/submit.html" class="uri">https://cran.r-project.org/submit.html</a>. To create a source package, go to “Build” then “Build Source Package.” R will then create a “.tar.gz” file which can be uploaded to the CRAN website.</p>
</div>
</div>
<div id="live-coding" class="section level2" number="106.4">
<h2>
<span class="header-section-number">106.4</span> Live Coding<a class="anchor" aria-label="anchor" href="#live-coding"><i class="fas fa-link"></i></a>
</h2>
<p>Video displaying live coding of an R package:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/wLGRLCXIAYA" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>To get your access token from GitHub use <code><a href="https://usethis.r-lib.org/reference/usethis-defunct.html">usethis::browse_github_token</a></code>, it will open up a new page and you can access a token from GitHub there. It will also tell you how to store your token after running the function. (This is also covered in the GitHub lessons.)</p>
</div>
<div id="exercises-117" class="section level2" number="106.5">
<h2>
<span class="header-section-number">106.5</span> Exercises<a class="anchor" aria-label="anchor" href="#exercises-117"><i class="fas fa-link"></i></a>
</h2>
<!-- ```{r making-packages-q1, echo=F} -->
<!-- question("Which packages are very important to the creation of R packages? (Select all that apply)", -->
<!--          answer("`devtools`", correct = T), -->
<!--          answer("`roxygen2`", correct = T), -->
<!--          answer("`dplyr`"), -->
<!--          answer("`rvest`"), -->
<!--          random_answer_order = T, -->
<!--          allow_retry = T) -->
<!-- ``` -->
<!-- ```{r making-packages-q2, echo=F} -->
<!-- question("What is the importance of the 'man' folder when making a package?", -->
<!--          answer("This folder contains the R scripts for the functions in the package"), -->
<!--          answer("This folder contains documentation for the functions in the package", -->
<!--                 correct = T), -->
<!--          answer("This folder contains code for GitHub"), -->
<!--          answer("This folder is not important"), -->
<!--          allow_retry = T) -->
<!-- ``` -->
<!-- ```{r making-packages-q3, echo=F} -->
<!-- question("Where do the R scripts for your functions go?", -->
<!--          answer("The R folder", correct = T), -->
<!--          answer("The 'man' folder"), -->
<!--          answer("The NAMESPACE file"), -->
<!--          answer("The DESCRIPTION file"), -->
<!--          random_answer_order = T, -->
<!--          allow_retry = T) -->
<!-- ``` -->
<!-- ```{r making-packages-q4, echo=F} -->
<!-- question("What is in the DESCRIPTION file?", -->
<!--          answer("Information about the package, including your contact information.",  -->
<!--                 correct = T), -->
<!--          answer("Descriptions of each function."), -->
<!--          answer("The code behind each of the functions"), -->
<!--          answer("The combination of all code and text in your package"), -->
<!--          random_answer_order = T, -->
<!--          allow_retry = T) -->
<!-- ``` -->
<!-- ```{r making-packages-q5, echo=F} -->
<!-- question("What are the best ways to let anyone access your package? (Select all that apply)", -->
<!--          answer("Upload your package files to GitHub", correct = T), -->
<!--          answer("Submission and approval by CRAN for your package", correct = T), -->
<!--          answer("Packages you create cannot be shared"), -->
<!--          answer("Once you make a package anyone can use it, even if it's not on CRAN or GitHub"), -->
<!--          random_answer_order = T, -->
<!--          allow_retry = T) -->
<!-- ``` -->
<!-- ```{r package-questions-6, echo=F} -->
<!-- question("True or False: You can only have one function in an entire package?", -->
<!--          answer("True"), -->
<!--          answer("False", correct = T), -->
<!--          allow_retry = T) -->
<!-- ``` -->
<!-- ```{r package-questions-7, echo=F} -->
<!-- question("What does the 'Install and Restart' button do?", -->
<!--          answer("Installs your package into R and lets you use it", correct = T), -->
<!--          answer("Refreshes your package to the last save"), -->
<!--          answer("Installs your package into R but does **not** let you use it"), -->
<!--          answer("Restarts your R session to let you work on a new package"), -->
<!--          random_answer_order = T, -->
<!--          allow_retry = T) -->
<!-- ``` -->
<!-- ```{r creating-packages-steps, echo=F} -->
<!-- order <- c("Select 'New Project' in RStudio", "Select 'New Directory'", -->
<!--            "Select 'R Package' and Name your package", "Edit the files", -->
<!--            "Configure Build Tools... create documentation with `roxygen`", -->
<!--            "Clean and Rebuild", "Share the Package with others!") -->
<!-- question_rank("What is the correct order in making a new R package in RStudio?", -->
<!--               answer(order, correct = T), -->
<!--               answer(rev(order), message = "Wrong direction"), -->
<!--          allow_retry = T) -->
<!-- ``` -->
</div>
<div id="next-steps-61" class="section level2" number="106.6">
<h2>
<span class="header-section-number">106.6</span> Next Steps<a class="anchor" aria-label="anchor" href="#next-steps-61"><i class="fas fa-link"></i></a>
</h2>
<p>Some next steps for making packages include:</p>
<ul>
<li>The R packages book by Hadley Wickham and Jenny Bryan: <a href="https://r-pkgs.org/" class="uri">https://r-pkgs.org/</a>
</li>
<li>The CRAN documents on writing packages: <a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html" class="uri">https://cran.r-project.org/doc/manuals/r-release/R-exts.html</a>
</li>
</ul>
</div>
<div id="questions-15" class="section level2" number="106.7">
<h2>
<span class="header-section-number">106.7</span> Questions<a class="anchor" aria-label="anchor" href="#questions-15"><i class="fas fa-link"></i></a>
</h2>
<ol style="list-style-type: decimal">
<li>True or False, you need a GitHub account to create an R package?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>True</li>
<li>False</li>
</ol>
<ol start="2" style="list-style-type: decimal">
<li>True or False, you can include examples of how your function works in the function files?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>True</li>
<li>False</li>
</ol>
<ol start="3" style="list-style-type: decimal">
<li>Which folder does R code go into?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>R</li>
<li>man</li>
<li>description</li>
<li>None of the above</li>
</ol>
<ol start="4" style="list-style-type: decimal">
<li>True or False, there is a limit to the amount of functions you can include in an R package?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>True</li>
<li>False</li>
</ol>
<ol start="5" style="list-style-type: decimal">
<li>True or False, the only way to share your package is through CRAN?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>True</li>
<li>False</li>
</ol>
<ol start="6" style="list-style-type: decimal">
<li>Which package creates documentation based off of your functions?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li><code>tidyverse</code></li>
<li><code>roxygen2</code></li>
<li><code>devtools</code></li>
<li><code>ggplot2</code></li>
</ol>
<ol start="7" style="list-style-type: decimal">
<li>Which line of code will open up GitHub to access your token?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li><code><a href="https://usethis.r-lib.org/reference/usethis-defunct.html">usethis::browse_github_token</a></code></li>
<li><code>devtools::browse_github_token</code></li>
<li><code>usethis::get_github_token</code></li>
<li><code>devtools::get_github_token</code></li>
</ol>
<ol start="8" style="list-style-type: decimal">
<li>What is the use of the “Imports” line in the description file?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>It tells R what you want to name your package</li>
<li>It tells R that you are using functions from other packages</li>
<li>It tells R who the other creators of the package are</li>
<li>None of the above</li>
</ol>
<ol start="9" style="list-style-type: decimal">
<li>True or False, the NAMESPACE file is important for submitting packages to CRAN?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>True</li>
<li>False</li>
</ol>
<ol start="10" style="list-style-type: decimal">
<li>True or False, the NAMESPACE file is created by the <code>roxygen2</code> package?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>True</li>
<li>False</li>
</ol>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="static-maps-using-ggmap.html"><span class="header-section-number">105</span> Static maps using ggmap</a></div>
<div class="next"><a href="writing-r-packages-ii.html"><span class="header-section-number">107</span> Writing R Packages II</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#writing-r-packages"><span class="header-section-number">106</span> Writing R Packages</a></li>
<li><a class="nav-link" href="#introduction-93"><span class="header-section-number">106.1</span> Introduction</a></li>
<li><a class="nav-link" href="#steps-for-making-a-package-in-r"><span class="header-section-number">106.2</span> Steps for Making a Package in R</a></li>
<li>
<a class="nav-link" href="#each-section-of-packages-in-depth"><span class="header-section-number">106.3</span> Each Section of Packages in depth</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#after-you-have-filled-out-each-file"><span class="header-section-number">106.3.1</span> After you have filled out each file</a></li>
<li><a class="nav-link" href="#sharing-your-package"><span class="header-section-number">106.3.2</span> Sharing Your Package</a></li>
</ul>
</li>
<li><a class="nav-link" href="#live-coding"><span class="header-section-number">106.4</span> Live Coding</a></li>
<li><a class="nav-link" href="#exercises-117"><span class="header-section-number">106.5</span> Exercises</a></li>
<li><a class="nav-link" href="#next-steps-61"><span class="header-section-number">106.6</span> Next Steps</a></li>
<li><a class="nav-link" href="#questions-15"><span class="header-section-number">106.7</span> Questions</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/RohanAlexander/doss_toolkit_book/blob/master/103-indistinguishable_from_magic-packages.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/RohanAlexander/doss_toolkit_book/edit/master/103-indistinguishable_from_magic-packages.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>DoSS Toolkit</strong>" was written by Ananya, Annie, Haoluan, Isaac, José, Leuven, Mariam, Marija, Matthew, Michael, Rohan, Ruijia, Sam, Shirley, Simone, Uzair, Yena, and Yiqu. It was last built on 2022-02-08.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
