<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 78 gganimate | DoSS Toolkit</title>
<meta name="author" content="Ananya, Annie, Haoluan, Isaac, José, Leuven, Mariam, Marija, Matthew, Michael, Rohan, Ruijia, Sam, Shirley, Simone, Uzair, Yena, and Yiqu">
<meta name="description" content="Written by Matthew Wankiewicz and last updated on 7 October 2021.  78.1 The content In this lesson you will learn how to: Create animated plots with the gganimate package Some pre-requisites...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 78 gganimate | DoSS Toolkit">
<meta property="og:type" content="book">
<meta property="og:description" content="Written by Matthew Wankiewicz and last updated on 7 October 2021.  78.1 The content In this lesson you will learn how to: Create animated plots with the gganimate package Some pre-requisites...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 78 gganimate | DoSS Toolkit">
<meta name="twitter:description" content="Written by Matthew Wankiewicz and last updated on 7 October 2021.  78.1 The content In this lesson you will learn how to: Create animated plots with the gganimate package Some pre-requisites...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">DoSS Toolkit</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Preface</a></li>
<li class="book-part">Hello World!</li>
<li><a class="" href="introduction.html"><span class="header-section-number">2</span> Introduction</a></li>
<li><a class="" href="getting-and-setting-up-rstudio.html"><span class="header-section-number">3</span> Getting and setting up RStudio</a></li>
<li><a class="" href="getting-to-know-what-is-what.html"><span class="header-section-number">4</span> Getting to know what is what</a></li>
<li><a class="" href="hello-world-1.html"><span class="header-section-number">5</span> Hello World!</a></li>
<li><a class="" href="hello-world-again.html"><span class="header-section-number">6</span> Hello World, again!</a></li>
<li><a class="" href="hello-world-yet-again.html"><span class="header-section-number">7</span> Hello World, yet again!</a></li>
<li><a class="" href="the-r-community.html"><span class="header-section-number">8</span> The R community</a></li>
<li class="book-part">Operating in an error prone world</li>
<li><a class="" href="introduction-7.html"><span class="header-section-number">9</span> Introduction</a></li>
<li><a class="" href="getting-help-is-normal.html"><span class="header-section-number">10</span> Getting help is normal!</a></li>
<li><a class="" href="using-google-and-stack-overflow.html"><span class="header-section-number">11</span> Using Google and Stack Overflow</a></li>
<li><a class="" href="even-more-on-stack-overflow.html"><span class="header-section-number">12</span> Even more on Stack Overflow</a></li>
<li><a class="" href="when-your-code-doesnt-work.html"><span class="header-section-number">13</span> When your code doesn’t work</a></li>
<li><a class="" href="making-reproducible-examples.html"><span class="header-section-number">14</span> Making reproducible examples</a></li>
<li><a class="" href="how-to-make-the-most-of-rs-cryptic-error-messages.html"><span class="header-section-number">15</span> How to make the most of R’s cryptic error messages</a></li>
<li class="book-part">Holding the chaos at bay</li>
<li><a class="" href="introduction-13.html"><span class="header-section-number">16</span> Introduction</a></li>
<li><a class="" href="r-projects-and-working-directory.html"><span class="header-section-number">17</span> R Projects and working directory</a></li>
<li><a class="" href="folder-set-up.html"><span class="header-section-number">18</span> Folder set-up</a></li>
<li><a class="" href="writing-comments.html"><span class="header-section-number">19</span> Writing comments</a></li>
<li><a class="" href="installing-packages.html"><span class="header-section-number">20</span> Installing packages</a></li>
<li><a class="" href="install-from-github.html"><span class="header-section-number">21</span> Install from GitHub</a></li>
<li><a class="" href="calling-packages.html"><span class="header-section-number">22</span> Calling packages</a></li>
<li><a class="" href="how-to-update-packages.html"><span class="header-section-number">23</span> How to update packages</a></li>
<li><a class="" href="read-csvs.html"><span class="header-section-number">24</span> Read CSVs</a></li>
<li><a class="" href="reading-tables-dta-and-other-data-types.html"><span class="header-section-number">25</span> Reading tables dta and other data types</a></li>
<li class="book-part">Hand me my plyrs</li>
<li><a class="" href="introduction-23.html"><span class="header-section-number">26</span> Introduction</a></li>
<li><a class="" href="what-is-the-tidyverse.html"><span class="header-section-number">27</span> What is the tidyverse?</a></li>
<li><a class="" href="the-pipe.html"><span class="header-section-number">28</span> The pipe</a></li>
<li><a class="" href="select.html"><span class="header-section-number">29</span> select</a></li>
<li><a class="" href="filter.html"><span class="header-section-number">30</span> filter</a></li>
<li><a class="" href="group-and-ungroup.html"><span class="header-section-number">31</span> group and ungroup</a></li>
<li><a class="" href="summarise.html"><span class="header-section-number">32</span> summarise</a></li>
<li><a class="" href="arrange.html"><span class="header-section-number">33</span> arrange</a></li>
<li><a class="" href="mutate.html"><span class="header-section-number">34</span> mutate</a></li>
<li><a class="" href="pivoting-data-from-long-to-wide-and-vice-versa.html"><span class="header-section-number">35</span> Pivoting data from long to wide and vice versa</a></li>
<li><a class="" href="rename.html"><span class="header-section-number">36</span> rename</a></li>
<li><a class="" href="counting.html"><span class="header-section-number">37</span> Counting</a></li>
<li><a class="" href="slice.html"><span class="header-section-number">38</span> slice</a></li>
<li><a class="" href="representations-of-data.html"><span class="header-section-number">39</span> Representations of data</a></li>
<li><a class="" href="length-rows-columns-and-dimensions.html"><span class="header-section-number">40</span> length, rows, columns and dimensions</a></li>
<li class="book-part">Totally addicted to base</li>
<li><a class="" href="introduction-37.html"><span class="header-section-number">41</span> Introduction</a></li>
<li><a class="" href="mean-median-sd-lm-and-summary.html"><span class="header-section-number">42</span> mean, median, sd, lm, and summary</a></li>
<li><a class="" href="generalized-linear-models-with-glm.html"><span class="header-section-number">43</span> Generalized linear models with glm</a></li>
<li><a class="" href="mixed-effect-linear-models-with-lme4.html"><span class="header-section-number">44</span> Mixed-effect linear models with lme4</a></li>
<li><a class="" href="function.html"><span class="header-section-number">45</span> function</a></li>
<li><a class="" href="for-and-while.html"><span class="header-section-number">46</span> for and while</a></li>
<li><a class="" href="if-if-else-and-case-when.html"><span class="header-section-number">47</span> if, if else and case when</a></li>
<li><a class="" href="c-seq-seq-along-and-rep.html"><span class="header-section-number">48</span> c, seq, seq along, and rep</a></li>
<li><a class="" href="hist-plot-and-boxplot.html"><span class="header-section-number">49</span> hist, plot and boxplot</a></li>
<li><a class="" href="apply-sapply-and-lapply.html"><span class="header-section-number">50</span> apply, sapply, and lapply</a></li>
<li><a class="" href="file-creation-and-manipulation.html"><span class="header-section-number">51</span> File creation and manipulation</a></li>
<li><a class="" href="sum-round-etc.html"><span class="header-section-number">52</span> sum round etc</a></li>
<li><a class="" href="investigating-and-playing-with-data.html"><span class="header-section-number">53</span> Investigating and playing with data</a></li>
<li><a class="" href="row-and-column-names.html"><span class="header-section-number">54</span> row and column names</a></li>
<li><a class="" href="floor-ceiling-round-and-abs.html"><span class="header-section-number">55</span> floor(), ceiling(), round(), and abs()</a></li>
<li class="book-part">He was a d8er boi</li>
<li><a class="" href="introduction-52.html"><span class="header-section-number">56</span> Introduction</a></li>
<li><a class="" href="head-tail-glimpse-and-summary.html"><span class="header-section-number">57</span> head, tail, glimpse and summary</a></li>
<li><a class="" href="paste-paste0-glue-and-stringr.html"><span class="header-section-number">58</span> paste, paste0, glue and stringr</a></li>
<li><a class="" href="names-rbind-and-cbind.html"><span class="header-section-number">59</span> names, rbind and cbind</a></li>
<li><a class="" href="joins.html"><span class="header-section-number">60</span> Joins</a></li>
<li><a class="" href="looking-for-missing-data.html"><span class="header-section-number">61</span> Looking for missing data</a></li>
<li><a class="" href="setseed-runif-rnorm-and-sample.html"><span class="header-section-number">62</span> setseed, runif, rnorm, and sample</a></li>
<li><a class="" href="simulating-datasets-for-regression.html"><span class="header-section-number">63</span> Simulating datasets for regression</a></li>
<li><a class="" href="conditional-mutating-and-summarising.html"><span class="header-section-number">64</span> Conditional mutating and summarising</a></li>
<li><a class="" href="tidying-up-datasets.html"><span class="header-section-number">65</span> Tidying up datasets</a></li>
<li><a class="" href="pull-pluck-and-unnest.html"><span class="header-section-number">66</span> pull, pluck and unnest</a></li>
<li><a class="" href="forcats-and-factors.html"><span class="header-section-number">67</span> forcats and factors</a></li>
<li><a class="" href="more-on-strings.html"><span class="header-section-number">68</span> More on strings</a></li>
<li><a class="" href="working-with-dates.html"><span class="header-section-number">69</span> Working with dates</a></li>
<li><a class="" href="regular-expressions.html"><span class="header-section-number">70</span> Regular expressions</a></li>
<li><a class="" href="janitor.html"><span class="header-section-number">71</span> janitor</a></li>
<li class="book-part">To ggplot or not to ggplot</li>
<li><a class="" href="introduction-67.html"><span class="header-section-number">72</span> Introduction</a></li>
<li><a class="" href="overview-of-ggplot2.html"><span class="header-section-number">73</span> Overview of ggplot2</a></li>
<li><a class="" href="histograms.html"><span class="header-section-number">74</span> Histograms</a></li>
<li><a class="" href="scatter-plots.html"><span class="header-section-number">75</span> Scatter plots</a></li>
<li><a class="" href="various-useful-options.html"><span class="header-section-number">76</span> Various useful options</a></li>
<li><a class="" href="saving-graphs.html"><span class="header-section-number">77</span> Saving graphs</a></li>
<li><a class="active" href="gganimate.html"><span class="header-section-number">78</span> gganimate</a></li>
<li><a class="" href="some-other-geom.html"><span class="header-section-number">79</span> Some other geom</a></li>
<li><a class="" href="other-geoms-2.html"><span class="header-section-number">80</span> other geoms 2</a></li>
<li><a class="" href="examples-15.html"><span class="header-section-number">81</span> Examples</a></li>
<li><a class="" href="exercises-96.html"><span class="header-section-number">82</span> Exercises</a></li>
<li><a class="" href="exercise-1-20.html"><span class="header-section-number">83</span> Exercise 1</a></li>
<li><a class="" href="exercise-2-17.html"><span class="header-section-number">84</span> Exercise 2</a></li>
<li><a class="" href="exercise-3-10.html"><span class="header-section-number">85</span> Exercise 3</a></li>
<li><a class="" href="exercise-4-5.html"><span class="header-section-number">86</span> Exercise 4</a></li>
<li class="book-part">R Marky Markdown and the Funky Docs</li>
<li><a class="" href="introduction-74.html"><span class="header-section-number">87</span> Introduction</a></li>
<li><a class="" href="introduction-to-r-markdown.html"><span class="header-section-number">88</span> Introduction to R Markdown</a></li>
<li><a class="" href="top-matter-title-date-author-abstract.html"><span class="header-section-number">89</span> Top Matter: Title, Date, Author, Abstract</a></li>
<li><a class="" href="tables-kable-kableextra-and-gt.html"><span class="header-section-number">90</span> Tables: kable, kableextra, and gt</a></li>
<li><a class="" href="multiple-plots-with-patchwork.html"><span class="header-section-number">91</span> Multiple plots with patchwork</a></li>
<li><a class="" href="references-and-bibtex.html"><span class="header-section-number">92</span> References and Bibtex</a></li>
<li><a class="" href="pdf-outputs.html"><span class="header-section-number">93</span> PDF outputs</a></li>
<li><a class="" href="here-and-filepaths.html"><span class="header-section-number">94</span> here and filepaths</a></li>
<li class="book-part">Git outta here</li>
<li><a class="" href="introduction-82.html"><span class="header-section-number">95</span> Introduction</a></li>
<li><a class="" href="what-is-version-control-and-github.html"><span class="header-section-number">96</span> What is version control and GitHub?</a></li>
<li><a class="" href="git-pull-status-add-commit-push.html"><span class="header-section-number">97</span> Git: pull, status, add, commit, push</a></li>
<li><a class="" href="branches-in-github.html"><span class="header-section-number">98</span> Branches in GitHub</a></li>
<li><a class="" href="dealing-with-conflicts.html"><span class="header-section-number">99</span> Dealing with conflicts</a></li>
<li><a class="" href="putting-git-all-together-in-rstudio.html"><span class="header-section-number">100</span> Putting (G)it All together in RStudio</a></li>
<li><a class="" href="projects-issues.html"><span class="header-section-number">101</span> Projects issues</a></li>
<li class="book-part">Indistinguishable from magic</li>
<li><a class="" href="introduction-89.html"><span class="header-section-number">102</span> Introduction</a></li>
<li><a class="" href="iteration.html"><span class="header-section-number">103</span> Iteration</a></li>
<li><a class="" href="coding-style.html"><span class="header-section-number">104</span> Coding style</a></li>
<li><a class="" href="static-maps-using-ggmap.html"><span class="header-section-number">105</span> Static maps using ggmap</a></li>
<li><a class="" href="writing-r-packages.html"><span class="header-section-number">106</span> Writing R Packages</a></li>
<li><a class="" href="writing-r-packages-ii.html"><span class="header-section-number">107</span> Writing R Packages II</a></li>
<li><a class="" href="getting-started-with-blogdown.html"><span class="header-section-number">108</span> Getting started with Blogdown</a></li>
<li><a class="" href="distill-and-postcards.html"><span class="header-section-number">109</span> Distill and postcards</a></li>
<li><a class="" href="getting-started-with-shiny.html"><span class="header-section-number">110</span> Getting started with Shiny</a></li>
<li><a class="" href="tidymodels.html"><span class="header-section-number">111</span> tidymodels</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/RohanAlexander/doss_toolkit_book">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="gganimate" class="section level1" number="78">
<h1>
<span class="header-section-number">78</span> gganimate<a class="anchor" aria-label="anchor" href="#gganimate"><i class="fas fa-link"></i></a>
</h1>
<p><em>Written by Matthew Wankiewicz and last updated on 7 October 2021.</em></p>
<div id="the-content-7" class="section level2" number="78.1">
<h2>
<span class="header-section-number">78.1</span> The content<a class="anchor" aria-label="anchor" href="#the-content-7"><i class="fas fa-link"></i></a>
</h2>
<p>In this lesson you will learn how to:</p>
<ul>
<li>Create animated plots with the <code>gganimate</code> package</li>
</ul>
<p>Some pre-requisites include:</p>
<ul>
<li>Having <code>ggplot2</code> and <code>gganimate</code> installed and loaded</li>
<li>Previous use of the <code>ggplot2</code> package</li>
<li>You may also need to install the <code>gifski</code> package to load animations.</li>
</ul>
<p>Highlights:</p>
<ul>
<li>Using <code>gganimate</code> is another way to display your data.</li>
<li>The package’s functions can only be used on HTML documents or can be saved and posted, perfect for websites or social media.</li>
<li>A cheat sheet for the package can be found <a href="https://ugoproto.github.io/ugo_r_doc/pdf/gganimate.pdf">here.</a>
</li>
</ul>
<p>The <code>gganimate</code> package is an extension of the <code>ggplot2</code> package which allows you to make your ggplots animated. The animations contained in this package allow you to show trends in data over a period of time or depending on certain states. This can be a useful way to keep readers engaged with your data or can be used if you want to share the trends you find on places like twitter.</p>
<p>Before using <code>gganimate</code>, you’ll have to have a graph set up using <code>ggplot2</code>, once you have the graph you can move on to animating it.</p>
<p>The package can be installed from CRAN using <code>install.packages("gganimate")</code>.</p>
</div>
<div id="functions" class="section level2" number="78.2">
<h2>
<span class="header-section-number">78.2</span> Functions<a class="anchor" aria-label="anchor" href="#functions"><i class="fas fa-link"></i></a>
</h2>
<div id="transition_" class="section level3" number="78.2.1">
<h3>
<span class="header-section-number">78.2.1</span> <code>transition_*()</code>:<a class="anchor" aria-label="anchor" href="#transition_"><i class="fas fa-link"></i></a>
</h3>
<p>The transition functions are the most important functions in the package. The functions are what make the plots animated. There are 8 total <code>transition_*</code> functions, 4 will be shown below.</p>
<ul>
<li>
<strong><code>transition_states</code>:</strong> This function animates graphs based on a certain column in your data. The plot will move based on the different levels in the column. For example, if you have a column with different species of animals, the plot will move/change for each type of animal present in the column.
<ul>
<li>
<strong>states:</strong> States is the column you want to move the plot by.</li>
<li>
<strong>transition_length:</strong> This argument changes the length of the transition between the states.</li>
<li>
<strong>state_length:</strong> This argument changes how long each state is present for.</li>
<li>
<strong>wrap:</strong> This determines if the animation loops or not. It is set to TRUE by default.</li>
</ul>
</li>
</ul>
<p>Below is an example of the <code>transition_states</code> function:</p>
<div class="sourceCode" id="cb593"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">broadway</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="st">"https://raw.githubusercontent.com/tacookson/data/master/broadway-grosses/grosses.csv"</span><span class="op">)</span>

<span class="va">broadway_plot</span> <span class="op">&lt;-</span> <span class="va">broadway</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">weekly_gross</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>bins <span class="op">=</span> <span class="fl">15</span><span class="op">)</span>

<span class="va">broadway_plot</span> <span class="op">+</span> <span class="fu">transition_states</span><span class="op">(</span>transition_length <span class="op">=</span> <span class="fl">1</span>,
                                  states <span class="op">=</span> <span class="va">theatre</span>, 
                                  state_length <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="079-to_ggplot_or_not_to_ggplot-gganimate_files/figure-html/gganimate-transition-states-example-1.gif" width="75%"></div>
<p>The plot above shows the distribution of weekly gross ticket sales for theatres on broadway. Each state on the plot is a different theatre.</p>
<ul>
<li>
<strong><code>transition_time</code>:</strong> This function is the same as <code>transition_states</code> but uses time to animate instead of variables. This function is very useful for showing trends over time.
<ul>
<li>
<strong>time</strong>: Time is the only required argument for this function. It represents the time separating each observation in the plot, this can include Days, Weeks or Years.</li>
<li>
<strong>range</strong>: Range is an optional argument, this represents the range of time you would like to show on the animation. For example, you could look at a certain span of years.</li>
</ul>
</li>
<li>
<strong><code>transition_reveal</code>:</strong> A variant of <code>transition_time</code>. This function is different from <code>transition_time</code> because of the way it interprets data for plotting. Instead of strictly going by time values, the function aims for smoother transitions compared to <code>transition_time</code>. Overall, the function will reveal each frame over time. This can be useful for plotting <code>geom_path</code> objects as it will be able to make the line grow over time, like someone is drawing it.
<ul>
<li>
<strong>along</strong>: The most important argument for this function. It represents the variable you want R to display state by state. For example, if you set <code>along = Year</code>, the function will display a new state on the graph for each year in the data.</li>
<li>
<strong>range</strong>: This argument is optional, it allows you to set a range of time for your animation.</li>
<li>
<strong>keep_last</strong>: Determines if the last row will show up for future frames. It is set to TRUE by default and doesn’t really need to be changed.</li>
</ul>
</li>
<li>
<strong><code>transition_filter</code>:</strong> Instead of having new stages based on different levels of a variable or by periods of time, <code>transition_filter</code> shows different states based off of the <code>filter</code> function.
<ul>
<li>
<strong>transition_length:</strong> This argument changes the length of the transition between the states.</li>
<li>
<strong>filter_length:</strong> This argument changes how long each filter state is present for.</li>
<li>You will also need to add filter expressions. You can place as many expressions as you want, these will become the states of your animation. Write them in the form <code>x &lt; y</code>, <code>var == "dog"</code>, you don’t need to include the filter function.</li>
<li>
<strong>wrap:</strong> This determines if the animation loops or not. Set to TRUE by default.</li>
<li>
<strong>keep:</strong> Tells R if you want to keep rows that don’t match the filter in your data. The main use of this argument is with “exit functions” and how they operate. Exit functions will be discussed later.</li>
</ul>
</li>
</ul>
<p>Some other transition functions include <code>transition_null</code>, <code>transition_manual</code>, <code>transition_components</code> and <code>transition_layers</code>. These functions aren’t used as much as the other 4 shown, more information about the functions can be found in the <a href="https://cran.r-project.org/web/packages/gganimate/gganimate.pdf"><code>gganimate</code> documentation.</a></p>
</div>
<div id="more-aesthetic-functions" class="section level3" number="78.2.2">
<h3>
<span class="header-section-number">78.2.2</span> More Aesthetic Functions<a class="anchor" aria-label="anchor" href="#more-aesthetic-functions"><i class="fas fa-link"></i></a>
</h3>
<p>Along with the transition functions, there are other <code>gganimate</code> functions which can help your animations look better. There are two types of functions which can help your animations: Enter/Exit functions and the ease function.</p>
<p>The Enter/Exit Function determine how the data for each state will enter the graph. Instead of having the points on a graph appear/disappear, these functions will add more interesting transitions, like shrinking/growing or fading in/out. The <code>gganimate</code> website gives some helpful information about these functions and can be found <a href="https://gganimate.com/reference/enter_exit.html">here.</a></p>
<p>The <code>ease_aes</code> function changes how the animation moves between its states on the plot. There are many different types of easing that can be applied onto animations, each having a different effect. A list of easing types and a visual demonstration of how they affect the animation can be found on the <a href="https://www.r-bloggers.com/2021/01/ease_aes-demo/">R bloggers site.</a></p>
<p>Another function that can be used with <code>gganimate</code> is <code>ggtitle</code>. Using this function allows us to have a title which changes with each state of the graph. For example, if we have a histogram showing the distribution of ages by country, we can use <code>ggtitle</code> to change the title depending on which country it is showing.</p>
<ul>
<li>To have the title change by state for <code>transition_states</code> write your title followed by “{closest_state}.”</li>
<li>To have the title change for <code>transition_reveal</code> use “{frame_along}” after your title.</li>
<li>To have the title change for <code>transition_filter</code> use “{closest_filter}” after the title.</li>
<li>To have the title change for <code>transition_time</code> use “{frame_time}” after the title.</li>
</ul>
</div>
<div id="animate" class="section level3" number="78.2.3">
<h3>
<span class="header-section-number">78.2.3</span> <code>animate</code><a class="anchor" aria-label="anchor" href="#animate"><i class="fas fa-link"></i></a>
</h3>
<p>The <code>animate</code> function is used to render the animations created. In these renderings you can change the image quality, number of frames, frames per second and many other options. The most important arguments of <code>animate</code> will be discussed below:</p>
<ul>
<li>
<strong>plot:</strong> The plot argument is simply your plot. This can be the entire plot expression, or you can save the expression as an object use that.</li>
<li>
<strong>nframes:</strong> This is the number of frames in your animation. It is set to 100 by default but you can change it to match the number of states there are in your plot.</li>
<li>
<strong>fps:</strong> This is the frames per second. If you want your animation to be really slow, lower the frames per second. This argument defaults to 10.</li>
<li>
<strong>duration:</strong> This is how long you want your animation to be.</li>
<li>
<strong>device:</strong> This argument changes how the images are stored for the animation. By default they are saved as .png.</li>
</ul>
</div>
</div>
<div id="common-errors-2" class="section level2" number="78.3">
<h2>
<span class="header-section-number">78.3</span> Common Errors<a class="anchor" aria-label="anchor" href="#common-errors-2"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>Error: Provided file does not exist.
<ul>
<li>This means that you are using a keyword that does not match the transition function. To fix this, you need to change to a different keyword.</li>
<li>
<code>transition_states</code> matches with “{closest_state},” <code>transtion_reveal</code> matches with “{frame_along},” <code>transition_filter</code> matches with “{closest_filter}” and <code>transition_time</code> uses “{frame_time}.”</li>
</ul>
</li>
<li>Error: transition_filter requires at least 2 filtering conditions
<ul>
<li>Make sure you have 2 filtering conditions defined.</li>
<li>If you have 2 filtering conditions already, you will need to add the <code>transition_length</code> and <code>filter_length</code> arguments to your function.</li>
</ul>
</li>
<li>Error in transform_path(all_frames, next_state, ease, params$transition_length[i], :
transformr is required to tween paths and lines
<ul>
<li>To fix this, install the <code>transformr</code> package.</li>
</ul>
</li>
</ul>
</div>
<div id="test-your-understanding" class="section level2" number="78.4">
<h2>
<span class="header-section-number">78.4</span> Test your Understanding<a class="anchor" aria-label="anchor" href="#test-your-understanding"><i class="fas fa-link"></i></a>
</h2>
<p>The next three questions will use the code chunk below:</p>
<div class="sourceCode" id="cb594"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">caribou_timeplot</span> <span class="op">&lt;-</span> <span class="va">caribou</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">animal_id</span> <span class="op">==</span> <span class="st">"GR_C01"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">event_id</span> <span class="op">&lt;</span> <span class="fl">2259197491</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">longitude</span>, <span class="va">latitude</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_path</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Timestamp: {****}"</span><span class="op">)</span>

<span class="va">caribou_timeplot</span> <span class="op">+</span> <span class="va">transition_</span><span class="op">*</span><span class="op">(</span><span class="va">timestamp</span><span class="op">)</span></code></pre></div>
<!-- ```{r multiple-choice-gganimate-q1, echo=FALSE} -->
<!-- question("What type of animation will we have if `transition_time` is used?", -->
<!--          answer("A line showing the coordinates of the caribou over time."), -->
<!--          answer("Single lines drawn for each moment in time (not continuous)", correct = T), -->
<!--          answer("No plot will occur"), -->
<!--          answer("A scatter plot showing the coordinates, changing over time"),  -->
<!--          random_answer_order = T,  -->
<!--          allow_retry = T) -->
<!-- ``` -->
<!-- ```{r gganimate-question-2, echo=FALSE} -->
<!-- question("If we want to have a continuous line be drawn, which transition function should we use?", -->
<!--          answer("`transition_states`"), -->
<!--          answer("`transition_time`",  -->
<!--                 message = "`transition_time` would not have a continous line for this plot."), -->
<!--          answer("`transition_reveal`", correct = T), -->
<!--          answer("Another transition function"),  -->
<!--          random_answer_order = T,  -->
<!--          allow_retry = T) -->
<!-- ``` -->
<!-- ```{r gganimate-question-3, echo=FALSE} -->
<!-- question("Which `ggtitle` keyword should we use if we want a continuous 'drawn' line for our plot?", -->
<!--          answer("{closest_state}"), -->
<!--          answer("{frame_along}", correct = TRUE), -->
<!--          answer("{closest_filter}"), -->
<!--          answer("{frame_time}"), -->
<!--          allow_retry = TRUE,  -->
<!--          random_answer_order = TRUE) -->
<!-- ``` -->
<!-- ```{r gganimate-q4-sorting, echo=FALSE} -->
<!-- order <- c("Find a dataset", "Create a ggplot plot",  -->
<!--            "Use one of the transition functions to animate the plot",  -->
<!--            "Use an Enter/Exit/easing function to make your plot fancier (optional)",  -->
<!--            "Render and save the plot using `animate`") -->
<!-- question_rank("What is the proper order for using `gganimate`?", -->
<!--               answer(order, correct = T), -->
<!--               answer(rev(order)),  -->
<!--               answer(c("Find a dataset", "Create a ggplot plot", -->
<!--                        "Render and save the plot using `animate`", -->
<!--                        "Use one of the transition functions to animate the plot",  -->
<!--                        "Use an Enter/Exit/easing function to make your plot fancier (optional)")), -->
<!--               answer(c("Find a dataset", "Create a ggplot plot", -->
<!--                        "Use an Enter/Exit/easing function to make your plot fancier (optional)", -->
<!--                        "Use one of the transition functions to animate the plot",  -->
<!--                        "Render and save the plot using `animate`")), -->
<!--               random_answer_order = T, allow_retry = T) -->
<!-- ``` -->
<!-- ```{r gganimate-question-5, echo=FALSE} -->
<!-- question("When you get an error saying 'transformr is required to tween paths and lines', what should you do?", -->
<!--          answer("install the `transformr` package", correct = T),  -->
<!--          answer("use a different function"),  -->
<!--          answer("re-install `gganimate`"),  -->
<!--          answer("restart your R session"),  -->
<!--          allow_retry = T,  -->
<!--          random_answer_order = T) -->
<!-- ``` -->
<!-- ```{r gganimate-question-6, echo=FALSE} -->
<!-- question("If you get an 'Object Not Found' error, what is likely the issue and how do you fix it?", -->
<!--          answer("You are referencing a plot that doesn't exist, make sure you don't have any typos", -->
<!--                 correct = T), -->
<!--          answer("`gganimate` is not loaded. Use `library('gganimate')` to fix the issue"), -->
<!--          answer("`gganimate` is not installed. Use `install.packages('gganimate')` to fix the issue"),  -->
<!--          answer("You are referencing a function that doesn't exist, make sure you are using the right function"), -->
<!--          allow_retry = T,  -->
<!--          random_answer_order = T) -->
<!-- ``` -->
<!-- ```{r gganimate-question-7, echo=FALSE} -->
<!-- question("How do you fix the 'Provided file does not exist' error?", -->
<!--          answer("Re-run the function"), -->
<!--          answer("Use `labs` instead of `ggtitle`"), -->
<!--          answer("Change the keyword used in `ggtitle`", correct = TRUE), -->
<!--          answer("Re-install `gganimate` and `tidyverse`"), -->
<!--          allow_retry = TRUE,  -->
<!--          random_answer_order = TRUE) -->
<!-- ``` -->
<!-- Modify the code below to add a title that changes depending on the `Cyl`. (Hint: Check which transition function is being used.) -->
<!-- ```{r gganimate-question-8, exercise = TRUE} -->
<!-- cars_plot <- mtcars %>%  -->
<!--   ggplot(aes(mpg)) + -->
<!--   geom_histogram(bins = 5) -->
<!-- cars_plot + transition_states(cyl) -->
<!-- ``` -->
<!-- ```{r gganimate-question-8-solution} -->
<!-- cars_plot <- mtcars %>%  -->
<!--   ggplot(aes(mpg)) + -->
<!--   geom_histogram(bins = 5) + -->
<!--   ggtitle("Cyl: {closest_state}") -->
<!-- cars_plot + transition_states(cyl) -->
<!-- ``` -->
<!-- Modify the code below to display different states based on a filter. Filter for `mpg > 20`, `gear == 3` and `carb <= 5`. Also, set the transition length to 2 and the filter length to 3. -->
<!-- ```{r gganimate-question-9, exercise = TRUE} -->
<!-- cars_plot <- mtcars %>%  -->
<!--   ggplot(aes(disp, qsec)) + -->
<!--   geom_point() + -->
<!--   ggtitle("Filter: {closest_filter}") -->
<!-- cars_plot +  -->
<!-- ``` -->
<!-- ```{r gganimate-question-9-solution} -->
<!-- cars_plot <- mtcars %>%  -->
<!--   ggplot(aes(disp, qsec)) + -->
<!--   geom_point() + -->
<!--   ggtitle("Filter: {closest_filter}") -->
<!-- cars_plot + transition_filter(transition_length = 2, -->
<!--                               filter_length = 3,  -->
<!--                               mpg > 20, gear == 3, carb <= 5) -->
<!-- ``` -->
<p>The final question will use the plot below:</p>
<div class="inline-figure"><img src="079-to_ggplot_or_not_to_ggplot-gganimate_files/figure-html/gganimate-example-plot-q10-1.gif" width="75%"></div>
<!-- ```{r gganimate-question-10, echo=FALSE} -->
<!-- question("Which code chunk was used to create the plot above?",  -->
<!--          answer("ex_plot <- expeditions %>%  -->
<!--   ggplot(aes(highpoint_metres, members)) + -->
<!--   geom_point() + -->
<!--   ggtitle('Season: {closest_state}') -->
<!-- ex_plot + transition_states(season)", correct = TRUE),  -->
<!--       answer("ex_plot <- expeditions %>%  -->
<!--   ggplot(aes(highpoint_metres, members)) + -->
<!--   geom_point() + -->
<!--   labs(title = 'Season') -->
<!-- ex_plot + transition_states(season)", message = "Hint: look at the title."), -->
<!--       answer("ex_plot <- expeditions %>%  -->
<!--   ggplot(aes(highpoint_metres, members)) + -->
<!--   geom_point() + -->
<!--   ggtitle('Season: {closest_state}') -->
<!-- ex_plot + transition_time(season)"),  -->
<!-- answer("ex_plot <- expeditions %>%  -->
<!--   ggplot(aes(highpoint_metres, members)) + -->
<!--   geom_point() + -->
<!--   ggtitle('Season: {closest_state}') -->
<!-- ex_plot + transition_filter(season)"), -->
<!-- allow_retry = T, random_answer_order = T) -->
<!-- ``` -->
</div>
<div id="helpful-links" class="section level2" number="78.5">
<h2>
<span class="header-section-number">78.5</span> Helpful Links<a class="anchor" aria-label="anchor" href="#helpful-links"><i class="fas fa-link"></i></a>
</h2>
<p>Some helpful links include:</p>
<ul>
<li><p>The <code>gganimate</code> website: <a href="https://gganimate.com/" class="uri">https://gganimate.com/</a></p></li>
<li><p>Katherine Goode’s presentation on <code>gganimate</code>: <a href="https://goodekat.github.io/presentations/2019-isugg-gganimate-spooky/slides.html#1" class="uri">https://goodekat.github.io/presentations/2019-isugg-gganimate-spooky/slides.html#1</a></p></li>
<li><p>The rOpenSci Labs github page for learning <code>gganimate</code>: <a href="https://github.com/ropensci-archive/learngganimate" class="uri">https://github.com/ropensci-archive/learngganimate</a></p></li>
</ul>
</div>
<div id="questions-8" class="section level2" number="78.6">
<h2>
<span class="header-section-number">78.6</span> Questions<a class="anchor" aria-label="anchor" href="#questions-8"><i class="fas fa-link"></i></a>
</h2>
<ol style="list-style-type: decimal">
<li>True or False, <code>gganimate</code> plots will work if the output file is a PDF?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>True</li>
<li>False</li>
</ol>
<ol start="2" style="list-style-type: decimal">
<li>True or False, <code>gganimate</code> is part of the <code>ggplot2</code> package?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>True</li>
<li>False</li>
</ol>
<ol start="3" style="list-style-type: decimal">
<li>If I want my <code>gganimate</code> plot to loop, which argument should I use?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li><code>loop = TRUE</code></li>
<li><code>repeat = TRUE</code></li>
<li><code>wrap = TRUE</code></li>
<li>That argument does not exist</li>
</ol>
<ol start="4" style="list-style-type: decimal">
<li>Which function is best suited to animate an line that changes over time (like yearly population totals)?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li><code>transition_states()</code></li>
<li><code>transition_time()</code></li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code></li>
<li><code>transition_line()</code></li>
</ol>
<ol start="5" style="list-style-type: decimal">
<li>What is the <code>render</code> function used for?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>Render animations that were created</li>
<li>Change the scales of the plot</li>
<li>Make the plot static</li>
<li>None of the above</li>
</ol>
<ol start="6" style="list-style-type: decimal">
<li>If I want to make a moving plot that changes depending on a categorical variable, which function should be used?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li><code>transition_states()</code></li>
<li><code>transition_time()</code></li>
<li><code>transition_reveal()</code></li>
<li><code>transition_cat()</code></li>
</ol>
<ol start="7" style="list-style-type: decimal">
<li>What does the <code>ggtitle</code> function do?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>Creates a title that does not change</li>
<li>Creates a new plot</li>
<li>Creates a title that changes depending on the state</li>
<li>None of the above</li>
</ol>
<ol start="8" style="list-style-type: decimal">
<li>If I am using <code>transition_filter</code>, which <code>ggtitle</code> call should I use?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>“{closest_filter}”</li>
<li>“{frame_time}”</li>
<li>“{closest_state}”</li>
<li>“{frame_along}”</li>
</ol>
<ol start="9" style="list-style-type: decimal">
<li>What is the default file type for the <code>animate</code> function?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>gif</li>
<li>jpg</li>
<li>html</li>
<li>png</li>
</ol>
<ol start="10" style="list-style-type: decimal">
<li>What do enter/exit functions do?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>Make the animation static</li>
<li>Change how the animation begins/ends</li>
<li>Add more plots</li>
<li>Add a title to the plots</li>
</ol>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="saving-graphs.html"><span class="header-section-number">77</span> Saving graphs</a></div>
<div class="next"><a href="some-other-geom.html"><span class="header-section-number">79</span> Some other geom</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#gganimate"><span class="header-section-number">78</span> gganimate</a></li>
<li><a class="nav-link" href="#the-content-7"><span class="header-section-number">78.1</span> The content</a></li>
<li>
<a class="nav-link" href="#functions"><span class="header-section-number">78.2</span> Functions</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#transition_"><span class="header-section-number">78.2.1</span> transition_*():</a></li>
<li><a class="nav-link" href="#more-aesthetic-functions"><span class="header-section-number">78.2.2</span> More Aesthetic Functions</a></li>
<li><a class="nav-link" href="#animate"><span class="header-section-number">78.2.3</span> animate</a></li>
</ul>
</li>
<li><a class="nav-link" href="#common-errors-2"><span class="header-section-number">78.3</span> Common Errors</a></li>
<li><a class="nav-link" href="#test-your-understanding"><span class="header-section-number">78.4</span> Test your Understanding</a></li>
<li><a class="nav-link" href="#helpful-links"><span class="header-section-number">78.5</span> Helpful Links</a></li>
<li><a class="nav-link" href="#questions-8"><span class="header-section-number">78.6</span> Questions</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/RohanAlexander/doss_toolkit_book/blob/master/079-to_ggplot_or_not_to_ggplot-gganimate.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/RohanAlexander/doss_toolkit_book/edit/master/079-to_ggplot_or_not_to_ggplot-gganimate.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>DoSS Toolkit</strong>" was written by Ananya, Annie, Haoluan, Isaac, José, Leuven, Mariam, Marija, Matthew, Michael, Rohan, Ruijia, Sam, Shirley, Simone, Uzair, Yena, and Yiqu. It was last built on 2022-02-08.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
